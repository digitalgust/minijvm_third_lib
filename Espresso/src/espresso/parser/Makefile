####################################################################
#                                                                  #
# Makefile for Espresso                                            #
#                                                                  #
####################################################################

####################################################################
# Useful macros                                                    #
####################################################################

JAVAC = javac
JAVAC_FLAGS = -g
JAVACC = javacc
JAVACC_FLAGS = -static=FALSE

####################################################################
#  Explicit rules                                                  #
####################################################################

.SUFFIXES: .java .class .jj

.java.class:
	$(JAVAC) $(JAVAC_FLAGS) $<

.jj.java:
	$(JAVACC) $(JAVACC_FLAGS) $<

####################################################################
#  Modules                                                         #
####################################################################

FILES = \
JavaParser.class \
JavaImportManager.class

all: $(FILES)

JavaParser.java: Java1.0.2.jj
	$(JAVACC) $(JAVACC_FLAGS) Java1.0.2.jj

####################################################################

